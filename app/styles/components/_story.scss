.story {
	-webkit-touch-callout: none;
    //-webkit-user-select: none;
	padding: {
		top: 20px;
		right: 10px;
		left: 10px;
	}
	display: block;
	border: {
		radius: 5px;
	}
	z-index: 3;
	@include perspective(1000);
	-ms-transform: perspective(1000px);
	-moz-transform: perspective(1000px);
	@include transform-style(preserve-3d);
	
	@include breakpoint(max-width 360px) {
		padding: {
			left:0;
		}
	}
	
	&.-w1 {
		width: 160px;
		.story__content,
		.story__footer {
			width: 120px;
		}
	}
	&.-w2 {
		width: 330px;
		.story__content,
		.story__footer {
			width: 290px;
		}
	}
	&.-w4 {
		width: 680px;
		.story__content,
		.story__footer {
			width: 630px;
		}
	}
	&.-h1 {
		height: 160px;
		.story__content {
			height: 120px;
		}
        .story__chart {
            height: 50px;
        }
	}
	&.-h2 {
		height: 330px;
		.story__content {
			height: 290px;
		}
        .story__chart {
            height: 195px;
        }
	}
	&.-h4 {
		height: 680px;
		.story__content {
			height: 630px;
		}
        .story__chart {
            height: 535px;
        }
	}
	
	&.-white {
		.story__card {
			background: {
				color: $white;
			}
		}
		.story__inner .icon-cogs {
			fill: $black;
			opacity: .3;
			&:hover {
				opacity: 1;
			}
		}
		.story__inner .icon-reverse svg {
			fill: $black;
			opacity: 1;
			&:hover {
				opacity: .8;
			}
		}
		.dotted-area {
			border-color: $black;
		}
		.select2-container {
			.select2-choice, {
				background-color: $light-grey;
				.select2-chosen {
					background-color: $light-grey;
					color: $black;
				}
				.select2-arrow {
					background-color: $light-grey;
					color: $black;
					b {
						@include svg--dropdown-triangle-dark;
					}
				}
			}
		}
	}
	&.-black {
		.story__card {
			color: $white;
			background: {
				color: $black;
			}
	    a {
	      color:$white;
	    	}
		}
		.story__inner .icon-cogs {
			fill: $white;
			opacity: .3;
			&:hover {
				opacity: 1;
			}
		}
		.story__footer {
			.pg-of {
				color: $white;
				opacity:0.7;
			}
			.carousel-pager {
				&__numbers {
					a {
						&.selected {
							&:before {
								background-color: $white;
							}
						}
						&:hover {
							&:before {
								background-color: $white;
							}
						}
					}
				}
				&__btn {
					&.-prev {
						&:before {
							@include triangle(10px, #bfbdae, left);
						}
						&:hover {
							&:before {
								@include triangle(10px, #fff, left);
							}
						}
					}
					&.-next {
						&:before {
							@include triangle(10px, #bfbdae, right);
						}
						&:hover {
							&:before {
								@include triangle(10px, #fff, right);
							}
						}
					}
				}
				.carousel-pager__numbers {
					a.selected {
						&:before {
							background-color: #fff;
						}
					}
				}
		    	.dotted-area {
					border-color: $white;
				}
				.circle-indicator {
					background-color: $black;
				}
			}
		}
	}
	&.-dark-grey {
		.story__card {
			color: $white;
			background: {
				color: $dark-grey;
			}
            a {
                color:$white;
            }
		}
		.story__inner .icon-cogs {
			fill: $white;
			opacity: .3;
			&:hover {
				opacity: 1;
			}
		}
        .story__footer {
		    .pg-of {
			    color: $white;
                opacity:0.7;
            }
        }
        .select2-container {
        	.select2-choice {
        		background-color: lighten($dark-grey,5);
        		.select2-chosen {
        			background-color: lighten($dark-grey,5);
        			color: $white;
        		}
        		.select2-arrow {
        			background-color: lighten($dark-grey,5);
        			color: $white;
        		}
        	}
        }
	}
	&.-lime {
		.story__card {
			color: $white;
			background: {
				color: $lime;
			}
            a {
                color:$white;
            }
		}
		.story__inner .icon-cogs {
			fill: $white;
			opacity: .3;
			&:hover {
				opacity: 1;
			}
		}
    .story__footer {
	    .pg-of {
		    color: $white;
	            opacity:0.7;
	        }
	        .author {
	        	opacity: 1;
	        }
        }
    	.dotted-area {
			border-color: $white;
		}
		.select2-container {
			.select2-choice, {
				background-color: darken($lime,5);
				.select2-chosen {
					background-color: darken($lime,5);
					color: $white;
				}
				.select2-arrow {
					background-color: darken($lime,5);
					color: $white;
				}
			}
		}
	}
	&.-ivory {
		.story__card {
			background: {
				color: $ivory;
			}
		}
		.event .image {
			background: {
				color: $ivory;
			}
		}
		.icon-reverse {
			svg {
				fill: #000;
			}
		}
	}
	&.-yellow {
		.story__card {
			background: {
				color: $yellow;
			}
		}
		.dotted-area {
			border-color: $black;
		}
	}
	&.-blue {
		.story__card {
			color: $white;
			background: {
				color: $blue;
			}
		}
		.story__inner .icon-cogs {
			fill: $white;
			opacity: .3;
			&:hover {
				opacity: 1;
			}
		}
		.select2-container {
			.select2-choice, {
				background-color: darken($blue,5);
				.select2-chosen {
					background-color: darken($blue,5);
					color: $white;
				}
				.select2-arrow {
					background-color: darken($blue,5);
					color: $white;
				}
			}
		}
	}
	&.-dark-blue {
		.story__card {
			color: $white;
			background: {
				color: $dark-blue;
			}
		}
		.story__inner .icon-cogs {
			fill: $white;
			opacity: .3;
			&:hover {
				opacity: 1;
			}
		}
		.select2-container {
			.select2-choice, {
				background-color: $white;
				color: $dark-blue;
				.select2-chosen {
					background-color: $white;
					color: $dark-blue;
				}
				.select2-arrow {
					background-color: $white;
					color: $dark-blue;
				}
			}
		}
	}
	
	&.-light-blue {
		.story__card {
			color: #fff;
			background: {
				color: #0072BC;
			}
		}
		.story__inner .icon-cogs {
			fill: #fff;
			opacity: .3;
			&:hover {
				opacity: 1;
			}
		}
		.select2-container {
			.select2-choice, {
				background-color: darken($light-blue,5);
				.select2-chosen {
					background-color: darken($light-blue,5);
					color: #fff;
				}
				.select2-arrow {
					background-color: darken($light-blue,5);
					color: #fff;
				}
			}
		}
	}

	&.ui-draggable-dragging {
		@include transform(rotate(-1.5deg));
		.story__inner {
			box-shadow: 0 0 5px 2px rgba(0,0,0,.15);
		}
	}
	
	// Box for adding a new story
	&.story--add {
		.story__inner {
			text: {
				indent: -9999px;
			}
			background: {
				color: #e3e3e3;
				repeat: no-repeat;
				position: center center;
			}
			@include transition(.15s);

			&:hover {
				background: {
					color: $lime;
				}
				.icon-plus {
					fill: #eeeef3;
				}
			}
		}
		.icon-plus {
			width: 38px;
			height: 38px;
			@include middle(xy);
			position: absolute;
			display: block;
			svg {
				width: 38px;
				height: 38px;
				display: block;
				fill: #efeff4;
			}
		}
	}
}
	.story__inner {
		height: 100%;
		display: block;
		-webkit-touch-callout: none;
		//-webkit-user-select: none;
		
		@include transform-style(preserve-3d);
		@include transition(.6s);

		position: relative;
		border: {
			radius: 5px;
		}
		&.-support-3d {
			&.-flip {
				@include transform(rotateY(180deg));
				.story__card {
					@include backface-visibility(hidden);
					&.-front {
						z-index: 2;
						@include transform(rotateY(0deg));
					}
					&.-back {
						z-index: 1;
						@include transform(rotateY(180deg));
					}
				}
			}
		}
		&.-fallback-3d {
			&.-flip {
				.story__card {
					@include transition(all .3s);
					&.-front {
						z-index: 1;
						opacity: 0;
					}
					&.-back {
						z-index: 2;
						opacity: 1;
					}
				}
			}
		}
		.icon-cogs {
			z-index: 1;
			opacity: .8;
			position: absolute;
			top: 3px;
			right: 10px;
			&:hover {
				opacity: 1;
			}
			
			svg {
				stroke-width: 0px;
				width:22px;
				height:22px;
				margin-top: 7px;
			}
		}
		
		.icon-reverse {
			svg {
				fill: #fff;
			}
		}
	}
		.story__card {
			width: 100%;
			height: 100%;
			padding: 10px;
			position: absolute;
			top: 0;
			left: 0;
			border: {
				radius: 5px;
			}
			overflow: hidden;
			&.-front {
				z-index: 2;
			}
			&.-back {
				z-index: 1;
				background-color: blue;
				.story__content {
					
					h3 {
						margin: {
							top:0;
							right:0;
							bottom:0;
							left:0;
						}
						padding-bottom:5;
					}
					p {
						padding:0;
						margin:0;
					}
				}
				.btn {
					font: {
						size: 12px;
						family: $helvneuemed;
					}
				}
			}
		}
			.story__content {

				@include transition(opacity .6);
				.heading {
					margin: {
						bottom: 3px;
					}
					&.-sub {
						margin: {
							bottom: 10px;
						}
					}
                    &.-delta {
                        font-family:$helvneuelight;
                        padding: {
                        	bottom: 5px;
                        }
                    }
				}
				.image {
					margin: {
						bottom: 10px;
					}
					&.-wide {
						width: 100%;
					}
					a {
						display: block;
					}
				}
				
				.btn {
			        height: 40px;
					font {
		            	size: em(12px);
					}
				}
			}
			.story__footer {
				height: 25px;
				position: absolute;
				bottom: 5px;
				left: 10px;
				font: {
					size: em(10px);
				}
				border: {
					top: dotted 1px $white;
				}
				padding: {
					top: 5px;
				}
				text-align: left;
				.carousel-pager {
					margin-top: 4px;
					position: absolute;
					left: 0px;
				}
				.pg-of, .author {
					position: absolute;
				}
				.pg-of {
					opacity: .24;
					color: #000;
					left: 0px;
					bottom: 2px;
					display: none;
				}
				.author {
					right: 0px;
					opacity: .5;
					bottom: 2px;
				}
				img {
					float: right;
				}
			}
			&.-white, .-ivory {
				.story__footer {
					border: {
					top: dotted 1px $black;
					}
				}
			}

.ss-placeholder-child {
	width: 80px;
	height: 80px;
	padding: 10px;
	position: absolute;
	display: block;
	&:after {
		content: '';
		width: 100%;
		height: 100%;
		display: block;
		position: relative;
		top: 10px;
		background-color: #e9e9e9;
		border: {
			radius: 10px;
		}
	}
}
